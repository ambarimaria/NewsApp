@model NewsApp.Models.ViewModels.Article
@{
    string eu=Uri.EscapeDataString(Model.Url),
           et=Uri.EscapeDataString(Model.Title),
           ed=Uri.EscapeDataString(Model.Description??""),
           ei=Uri.EscapeDataString(Model.ImageUrl??""),
           ea=Uri.EscapeDataString(Model.DisplayAuthor),
           es=Uri.EscapeDataString(Model.SourceName),
           epd=Uri.EscapeDataString(Model.PublishedAt?.ToString("o")??"");
    string dUrl=$"/News/Detail?url={eu}&title={et}&description={ed}&image={ei}&author={ea}&source={es}&publishedAt={epd}";
}
<article class="news-card">
    <a href="@dUrl" class="news-card-img-wrap">
        @if (Model.HasImage) {
            <img class="news-card-img" src="@Model.ImageUrl" alt="@Model.Title" loading="lazy"
                 onerror="this.closest('.news-card-img-wrap').innerHTML='<div class=\'news-card-img-placeholder\'><i class=\'fas fa-newspaper\'></i></div>'"/>
        } else {
            <div class="news-card-img-placeholder"><i class="fas fa-newspaper"></i></div>
        }
        <span class="news-card-time-chip">@Model.TimeAgo</span>
    </a>
    <div class="news-card-body">
        <div class="news-card-source">@Model.SourceName</div>
        <h3 class="news-card-title"><a href="@dUrl">@Model.Title</a></h3>
        <p class="news-card-desc">@Model.ShortDescription</p>
        <div class="news-card-footer">
            <span class="news-card-author">
                <i class="fas fa-user-pen" style="font-size:.5rem;margin-right:.3rem"></i>
                @(Model.Author?.Length>22 ? Model.Author[..22]+"…" : Model.DisplayAuthor)
            </span>
            <a href="@Model.Url" target="_blank" rel="noopener" class="news-card-ext-link"
               onclick="event.stopPropagation()" title="Open original article">
                <i class="fas fa-arrow-up-right-from-square"></i>
            </a>
        </div>
    </div>
</article>

